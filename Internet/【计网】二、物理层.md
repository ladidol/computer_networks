# 第2章 物理层 #

> 考虑怎样才能在连接各种计算机的传输媒体上传输数据比特流<br>物理层为数据链路层**屏蔽了各种传输媒体的差异**，使数据链路层只需要考虑如何完成本层的协议和服务，而不必考虑网络具体的传输媒体是什么

一个数据通信流程的例子：

![在这里插入图片描述](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207282015060.png)

## 1. ★物理层协议主要任务 ##

+ ==**机械特性**==：指明接口所用接线器的**形状**和**尺寸**、**引脚数目**和**排列**、**固定**和**锁定**装置
+ ==**电气特性**==：指明在接口电缆的各条线上出现的**电压范围**
+ ==**功能特性**==：指明某条线上出现的某一电平的**电压表示何种意义**
+ ==**过程特性**==：指明对于不同功能的各种可能**事件的出现顺序**

## 2. 传输媒体 ##

### 导引型传输媒体 ###

> 有摸得到的实物进行传导信号的方式

#### ①同轴电缆 ####

> 电缆各层都是同轴心的，因此称同轴电缆

![image-20220728150115299](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501380.png)

**基带同轴电缆(50$\Omega$)**：数字传输，过去用于局域网<br>**宽带同轴电缆(75$\Omega$)**：模拟传输，目前主要用于有线电视

同轴电缆**价格较贵且布线不够灵活和方便**，随着集线器的出现，在局域网领域基本上都是采用双绞线作为传输媒体

#### ②★双绞线 ####

> 把两根互相绝缘的铜导线并排放在一起，然后按照一定规则绞合起来就构成了双绞线，这是一种古老且常用的传输媒体





**常用绞合线类别、带宽和典型应用**

![image-20220728150120525](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501607.png)

##### UTP #####

> **无屏蔽**双绞线`UTP`电缆

![image-20220728165524441](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281656056.png)

+ 蓝线和蓝白线绞合
+ 橙线和橙白线绞合
+ 绿线和绿白线绞合
+ 棕线和棕白线绞合

**作用**：①抵御部分来自外界的电磁波干扰   ②减少相邻导线的电磁干扰

##### STP #####

> **屏蔽**双绞线`STP`电缆，其与`UTP`相比增加了金属丝编织的屏蔽层，提高了抗电磁干扰能力

![image-20220728165606784](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281656545.png)

#### ③★光纤 ####

> 光纤很细，因此必须将其做成结实的光缆。一根光缆少则一根光纤，多则可包括数百根

![image-20220728150125153](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501291.png)

##### 原理 #####

![image-20220728150130532](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501659.png)

如果全反射一直进行，则光就会沿着光纤一直传输下去。

实际上只要入射角大于某个临界角度就可以发生全反射，因此多条不同角度的光可以在光线里一起传输，这种光纤称作**多模光纤**

![image-20220728150136527](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501599.png)

+ **由于色散**(模式、材料、波导色散)，光在多模光纤中传输一定距离后必然产生**失真(脉冲展宽)**
+ 因此**多模光纤只适合==近距离==传输**(建筑物内)
+ 发送光源可使用**发光二极管(便宜)**；接收检测可用光电二极管

若光纤直径减小到只有一个光的波长，则光纤就像一根波导一样，可使光线一直向前传播，而不会产生多次反射，这样的光纤称作**单模光纤**

![image-20220728150141020](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501087.png)

+ 没有模式色散，在`1.31`微米波长附近，材料色散和波导色散大小相等符号相反，两者正好抵消
+ 单模光纤适合长距离传输且衰减小，但其制造成本高，对光源要求高
+ 发送光源需要使用**激光发生器(贵)**；接收检测用激光检波器

##### 纤芯直径 #####

+ **多模光纤：**`50`微米，`62.5`微米
+ **单模光纤：**`9`微米
+ **纤芯外包层**：`125`微米

##### 工作波长 #####

+ **0.85微米(衰减较大)**
+ **1.30微米(衰减较小)**
+ **1.55微米(衰减较小)**

##### 优点 #####

+ **通信容量大**(`25000~30000GHz`的带宽)
+ **传输损耗小**，远距离传输时更加经济
+ **抗雷电和抗电磁干扰性能好**。这在大电流脉冲干扰环境下尤为重要
+ **无串音干扰**，保密性好，不易被窃听
+ **体积小，重量轻**

##### 缺点 #####

+ 割接**需要专用设备**
+ 光电接口**价格较贵**

#### ④电力线

![image-20220728170350703](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281703855.png)



### 非导引型传输媒体 ###

> 传导信号的东西摸不到

![image-20220728150146917](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501003.png)

![image-20220728150151284](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501378.png)

#### ①无线电波 ####

> 低频和中频频段用地面波传播；高频和甚高频靠电离层(地球上方`100~500`千米高空的带电离子层)反射

#### ②★微波 ####

> 微波会穿透电离层进入宇宙，因此其不能通过电离层反射到很远的地方

##### 地面微波接力通信 #####

> 微波是**直线传播**的，而地球表面是个曲面，因此传播距离受到限制，一般只有`50KM`左右；如果采用`100`米高的天线塔，则传播距离可增大到`100`公里。<br>为实现远距离通信，必须在一个微波通信信道的两个终端之间建立若干个中继站，**中继站把前一阵送来的信号经过放大后再发送到下一站**

##### 卫星通信 #####

> 在地球站之间，利用位于约`36000KM`高空的人造同步地球卫星作为中继器的一种微波接力，其最大特点是通信距离远，传播时延大(约`250~300ms`)。低轨道卫星通信系统也已经正在部署

#### ③红外线 ####

+ 点对点无线传输
+ 直线传播，**中间不能有障碍物**，传输距离短
+ 传输速率低(`4Mb/s~16Mb/s`)

#### ④可见光 ####

> 即光源作为信号源，前景好，暂时未被大范围应用

LIFI也

## 3. 传输方式 ##

![image-20220728171454707](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281714839.png)

### ★串行/并行传输 ###

> **串行传输**是指数据是`1`个比特`1`个比特依次发送的，发送端与接收端之间只用`1`条数据传输线即可<br>**并行传输**是指一次发送`n`个比特而不是一个比特，在发送端和接收端之间要有`n`条传输线路

**在计算机网络中，数据在传输线路上的传输时串行传输；而计算机内部(如CPU和内存)多使用并行传输**

### ★同步传输 ###

> 数据块以稳定的**比特流形式传输**，字节之间没有间隔。接收端在每个比特信号的中间时刻(有区分`0,1`的标志)进行检测，以判别接收到的是比特`0`还是`1`。<br>由于不同设备的时钟频率存在一定差异，不可能完全相同，在传输大量数据的过程中，所产生的判别时刻的累计误差会导致接收端对比特信号的判别错位。因此**需要采取方法使双方的时钟保持同步**

##### 收发双方时钟同步方法 #####

+ **外同步：**在收发双方之间加一条单独的时钟信号线
+ **内同步：**发送端将时钟同步信号编码到发送数据中一起传输(如曼彻斯特编码)

### ★异步传输 ###

> 以字节为独立的传输单位，字节间的时间间隔不是固定的，接收端仅在每个字节的起始处对字节内的比特实现同步，为此通常传送前要在每个字节前后加上起始位和结束位。

+ 异步是指**字节之间异步**(字节之间的时间间隔不固定)
+ 字节中的每个比特仍然要同步(各比特的持续时间是相同的)

### 单工/半双工/全双工 ###

+ **单工通信**：通信双方只有一个数据传输方向(无线电广播)
+ **半双工通信**：通信双方可以相互传输数据，但不能同时进行(对讲机)
+ **全双工通信**：通信双方可以同时发送和接收消息(电话)

**单工需要一条信道；其他的需要两条(一个方向一条)**

## 4. 编码与调制 ##

+ 消息(`message`)包括文字、图片、音频和视频
+ **数据是运送消息的实体**；计算机中的网卡将比特`1`和`0`变换成相应电信号发送到网线，即信号。
+ **信号是数据的电磁表现**，由信源(网卡)发出的原始电信号称为基带信号
+ **基带信号又分为数字基带信号(CPU和内存传输的信号)和模拟基带信号(麦克风收到声音后转变的电信号)**

> 信号需要在信道中进行传输，信道可分为数字信道和模拟信道
>
> ![image-20220728150158960](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281501034.png)
>
> 如果使用信道复用技术，传输媒体里可以有多个信道
>
> 在不改变信号性质的前提下，仅对基带信号的波形进行变换，称为**==编码==**。编码后产生的信号还是数字信号，可以在数字信道中传输
>
> 把基带信号的频率范围搬移到较高的频段，并转换为模拟信号，称为**==调制==**。调制后产生的信号还是模拟信号，可以在模拟信道中传输

![image-20220728150203862](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502064.png)

#### 常用编码 ####

![image-20220728150210653](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502781.png)

##### ①不归零编码 #####

> 正电平代表比特`1`，负电平代表比特`0`。在整个码元时间内，电平不会出现零电平

**这种编码方式如何区分连续几个相同电平呢？**

> 这要求发送方发送和接收方接收严格同步，这就需要额外一根传输线来传输时钟信号。接收方按照时钟节拍逐个接收码元。但是对于计算机网络，多的线不如拿来传输数据，因此由于存在同步问题，**计算机中的数据传输不使用不归零编码**

##### ②归零编码 #####

> **每个码元传输结束后信号都要"归零"**，所以接收方只要在信号归零后进行采样即可，不需要单独的时钟信号。
>
> 实际上，归零编码相当于把时钟信号用"归零"方式编码在了数据之内，这称为"**自同步**"信号
>
> 归零编码中的大部分**数据带宽**都用来传输"归零"而**浪费**掉了(编码效率低)

##### ③曼彻斯特编码 #####

> 码元的中间时刻既表示时钟，又表示数据。根据**正负跳变来区分比特**

***具体如何根据跳变实现同步？***

> 第一次数据跳变的时间记录下来【即半个码元的时间】，此后每过一个码元的时间就进行检测，根据跳变方向决定数据为`0`还是`1`。

##### ④差分曼彻斯特编码 #####

> ①跳变仅表示时钟	②码元开始处电平是否发生变化表示数据。<br>**比曼彻斯特变化少，更适合较高的传输速率**

#### 基本调制方法 ####

![image-20220728150218903](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502005.png)

**如上一个码元对应一个比特，如何能让1个码元包含多个比特呢？**

> 可以使用混合调制。正弦信号$A\sin \omega(x+\dfrac{\varphi}{\omega})$，相位和频率是相关的，因此二者不可同时做修改<br>通常情况下，相位和振幅可以结合起来其一调制，称为**正交振幅调制QAM**

**QAM-16**

+ `12`种相位
+ 每种相位有`1`或`2`种振幅可选
+ 可以调制出`16`种码元(波形)，即`16`个形状可以用`4`个二进制位排列组合表示，所以一个码元可以对应`4比特`
+ 码元与`4`个比特的对应关系要采用**格雷码**【任意两个相邻码元只有一位不同】

![image-20220728150224012](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502131.png)

## 5. 信道的极限容量 ##

> 通信质量较差的信道在传输信号的过程中会发生**严重失真**(无法识别原信号)**【码间串扰】**

**失真因素**

+ 码元传输速率
+ 信号传输距离
+ 噪声干扰
+ 传输媒体质量

![image-20220728150229200](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502412.png)

![image-20220728150233782](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502957.png)

+ 在信道带宽一定的情况下，根据奈氏准则和香农公式，要想提高信息的传输速率就必须采用**多元制**【更好的调制方法】和努力**提高信道中的信噪比**
+ 自从香农公式发布后，各种新的信号处理和调制方法就不断出现，其目的都是为了**尽可能地接近香农公式给出的传输速率极限**

### 例题↓ ###

![image-20220728150238786](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502922.png)

![image-20220728150244243](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502378.png)

![image-20220728150252725](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281502884.png)

## 6. 物理层设备

### 中继器（RP repeater）

> 注释：5-4-3规则是为了限制中继器使用次数的，理由可见图
> 5是指不能超过5个网段
> 4是指在这些网段中的物理层网络设备（中继器，集线器）最多不超过4个
> 3是指这些网段中最多只有三个网段挂有计算机

![在这里插入图片描述](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281958423.png)

### 集线器（Hub）

集线器是个大的冲突域，同时**只能有两个设备进行通讯**，只会传输信号，没有智能。

![在这里插入图片描述](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207281959278.png)



## 7. 总结

### 本章思维导图

![在这里插入图片描述](https://figurebed-ladidol.oss-cn-chengdu.aliyuncs.com/img/202207282000993.png)

## 8. 参考链接:

[计算机网络详细笔记【湖科大教书匠，内含B站链接】_Infinity_and_beyond的博客-CSDN博客_湖科大教书匠](https://blog.csdn.net/weixin_45488428/article/details/115102326?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~default-1-115102326-blog-125476540.pc_relevant_multi_platform_whitelistv2_exp180w&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2~default~CTRLIST~default-1-115102326-blog-125476540.pc_relevant_multi_platform_whitelistv2_exp180w&utm_relevant_index=1)

[计算机网络微课堂（有字幕无背景音乐版）_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1c4411d7jb?p=1)

[计算机网络笔记总结：Part2 物理层_兴趣使然的草帽路飞的博客-CSDN博客](https://csp1999.blog.csdn.net/article/details/115792713)

